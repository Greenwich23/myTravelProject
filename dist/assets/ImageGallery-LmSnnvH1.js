import{c as o,j as e,F as y,n as S,o as d,e as N,i as w}from"./index-CGLPKtmZ.js";import{u as D}from"./useTravelGallery-DmWrIQ_Q.js";import{l as h,f as m,y as x,P as f}from"./menu-B3zfh9d6.js";const F=["All Photos","Nature","Cities","Beaches","Cultural","Desert","Coastal","Aurora","Wildlife"],C=["Popular","Recent","Most Liked"];function G(){const[r,g]=o.useState(()=>localStorage.getItem("imageSelectedCategory")||"All Photos"),[l,u]=o.useState(()=>localStorage.getItem("sortBy")||"Recent"),[t,j]=o.useState(()=>localStorage.getItem("searchedFilter")||""),p=s=>{console.log("Perform side effect after data fetching",s)},v=s=>{console.log("Perform side effect after encountering error ",s)},{data:i}=D(v,p);console.log(i),o.useEffect(()=>{localStorage.setItem("imageSelectedCategory",r)},[r]),o.useEffect(()=>{localStorage.setItem("sortBy",l)},[l]),o.useEffect(()=>{localStorage.setItem("searchedFilter",t)},[t]);const n=o.useMemo(()=>{let s=i?.data||[];return r&&r!=="All Photos"&&(s=s.filter(a=>a.category===r),console.log("others")),t&&t!==""&&(s=s.filter(a=>a.location.toLowerCase().includes(t.toLowerCase())),console.log(t)),l==="Popular"?s=[...s].sort((a,c)=>c.views-a.views):l==="Most Liked"?s=[...s].sort((a,c)=>c.likes-a.likes):l==="Recent"&&(s=[...s].sort((a,c)=>new Date(c.date)-new Date(a.date))),s},[i,r,l,t]);return e.jsx("div",{className:"imageGalleryPage",id:"home",children:e.jsxs("section",{className:"imageGallery",children:[e.jsx("h3",{children:"Travel Gallery"}),e.jsx("p",{className:"imageGalleryp",children:"Discover breathtaking travel photography from around the world. Get inspired for your next adventure."}),e.jsxs("div",{className:"filtersSearchDiv",children:[e.jsxs("div",{className:"filtersFlex",children:[e.jsxs("div",{className:"filterSearch",children:[e.jsx(y,{}),e.jsx("input",{type:"text",placeholder:"Search by location or tag...",className:"",value:t,onChange:s=>j(s.target.value)})]}),e.jsxs("div",{className:"filters",children:[e.jsx(S,{className:"filtersIcon"}),e.jsxs(h,{as:"div",className:"dropDownDiv",children:[e.jsxs(m,{as:"div",className:"menuButton",children:[e.jsx("p",{children:r}),e.jsx(d,{})]}),e.jsx(x,{anchor:"bottom",as:"div",className:"filterDropDown",children:F.map(s=>e.jsx(f,{as:"p",className:"options",onClick:()=>g(s),children:s},s))})]}),e.jsxs(h,{as:"div",className:"dropDownDiv",children:[e.jsxs(m,{as:"div",className:"menuButton",children:[e.jsx("p",{children:l}),e.jsx(d,{})]}),e.jsx(x,{anchor:"bottom",as:"div",className:"filterDropDown",children:C.map(s=>e.jsx(f,{as:"p",className:"options",onClick:()=>u(s),children:s},s))})]})]})]}),e.jsx("div",{children:e.jsxs("p",{children:["Showing ",n.length," photos of "," ",i?.data.length," photos"]})})]}),e.jsx("div",{className:"imagesContainer",children:n.map(s=>e.jsxs("figure",{className:"images",children:[e.jsx("img",{src:`https://res.cloudinary.com/dsqax0vc0/image/fetch/f_auto,q_auto/${s.src}`,srcSet:`${s.src}&w=300 300w,   // For small screens
                  ${s.src}&w=600 600w,   // For standard displays
                  ${s.src}&w=900 900w    // For high-DPI displays or zooms`,alt:"",loading:"lazy"}),e.jsxs("div",{className:"imagesText",children:[e.jsx("h4",{children:s.location}),e.jsxs("p",{children:["By ",s.photographer]}),e.jsxs("div",{className:"imagesTextFlex",children:[e.jsxs("div",{children:[e.jsx(N,{}),e.jsx("p",{children:s.likes})]}),e.jsxs("div",{children:[e.jsx(w,{}),e.jsx("p",{children:s.views})]})]})]})]}))})]})})}export{G as default};
